plugins {
    id 'org.jetbrains.kotlin.jvm' version "1.5.10"
    id 'idea'
}

def minJvmVersion = "11"
group 'pluralsight.kotlin-coroutines'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib"
    implementation "org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.0"

    testImplementation "org.jetbrains.kotlin:kotlin-test"
//    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.1'
//    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.1'
}

tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {
    kotlinOptions {
//        suppressWarnings = true
        jvmTarget =  minJvmVersion
    }
}

test {
    useJUnitPlatform()
}

idea {
    module {
        downloadSources = true
        downloadJavadoc = true

//        outputDir = file("$rootDir/out/production/$name")
//        testOutputDir = file("$rootDir/out/test/$name")

        excludeDirs += [file("$rootDir/out/"), file("$rootDir/gradle/"), file("$rootDir/.idea/")]
    }
}
